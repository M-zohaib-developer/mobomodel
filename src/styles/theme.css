:root {
  /* Default theme variables */
  --app-navbar-bg: #0f766e;
  --app-btn-bg: #059669;
  --app-card-bg: #ffffff;
  --app-body-bg: #f8fafc;
  --app-text-color: #0f172a;
  --app-primary: #10b981;
  --app-bg-image: none;
}

[data-app-theme="dark"] {
  --app-navbar-bg: #042f2f;
  --app-btn-bg: #064e3b;
  --app-card-bg: #0b1220;
  --app-body-bg: #071421;
  --app-text-color: #e6eef4;
}

body {
  background: var(--app-body-bg) var(--app-bg-image) no-repeat center/cover;
  color: var(--app-text-color);
}

/* Ensure the main app containers also pick up the body/background variables so
   changing Body Color in the ThemePopup affects the visible app area (not just body).
   Exclude the login page which uses its own background. */
body:not(.login-page) #root,
body:not(.login-page) .min-h-screen,
body:not(.login-page) .app-root {
  background: var(--app-body-bg) var(--app-bg-image) no-repeat center/cover !important;
  color: var(--app-text-color) !important;
}

.app-navbar {
  background-color: var(--app-navbar-bg) !important;
  color: var(--app-text-color) !important;
}

.app-card {
  background-color: var(--app-card-bg) !important;
  color: var(--app-text-color) !important;
}

.btn-primary {
  background-color: var(--app-btn-bg) !important;
  color: #fff !important;
}

/* Drawer / popup styling helpers */
.theme-drawer {
  width: 680px;
  max-width: 95%;
  background: var(--app-card-bg);
  color: var(--app-text-color);
  box-shadow: 0 10px 30px rgba(2, 6, 23, 0.6);
}

/* Make buttons use app btn color by default */
.btn-primary,
.btn-primary:hover {
  background-color: var(--app-btn-bg) !important;
  color: #fff !important;
}

/* Override some commonly used Tailwind utility classes so theme variables apply
   across the app even when components use Tailwind classes like bg-green-600. */

/* Buttons using Tailwind green classes -> use app btn color */
.bg-green-600,
.bg-green-700,
.hover\:bg-green-700:hover {
  background-color: var(--app-btn-bg) !important;
}

/* Card & white backgrounds -> use app card/background vars */
/* NOTE: avoid overriding generic utility classes like .bg-white globally
   because some elements (like the navbar) also use those classes.
   We map component-specific classes instead (e.g., .app-card). */

/* Body-level background */
/* keep body styling via :root variables and elements that use them */

/* Text colors -> use app text color */
.text-white,
.text-gray-900,
.text-gray-700,
.text-gray-600 {
  color: var(--app-text-color) !important;
}

/* Rounded avatars / badges that previously used green */
.bg-green-600.rounded-full,
.rounded-full.bg-green-600 {
  background-color: var(--app-btn-bg) !important;
  color: var(--app-text-color) !important;
}

/* Inputs and controls */
input,
textarea,
select,
button {
  color: var(--app-text-color);
}

/* Ensure navbar specifically uses the navbar variable (placed last so it wins) */
nav.app-navbar {
  background-color: var(--app-navbar-bg) !important;
  color: var(--app-text-color) !important;
}

/* Target common 'card' patterns used in components - keep specific to avoid global overrides
   and exclude the login page so it keeps its own background. */
body:not(.login-page) .rounded-xl.p-6.border,
body:not(.login-page) .rounded-xl.p-6,
body:not(.login-page) .card,
body:not(.login-page) .panel,
body:not(.login-page) .card-wrapper,
body:not(.login-page) .bg-white,
body:not(.login-page) .shadow-md {
  background-color: var(--app-card-bg) !important;
  color: var(--app-text-color) !important;
}

/* Target tailwind panel wrappers that use 'w-full max-w-md rounded-xl p-6' etc. */
body:not(.login-page) .w-full.max-w-md.rounded-xl.p-6,
body:not(.login-page) .w-full.max-w-2xl.rounded-xl.p-6 {
  background-color: var(--app-card-bg) !important;
  color: var(--app-text-color) !important;
}
